import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,a,o as e}from"./app-CFwVIVLe.js";const l={};function p(t,s){return e(),n("div",null,s[0]||(s[0]=[a(`<h1 id="gunicorn" tabindex="-1"><a class="header-anchor" href="#gunicorn"><span>gunicorn</span></a></h1><div class="hint-container tip"><p class="hint-container-title">Tips</p><p>Python WSGI HTTP Server for UNIX<br> daemon for python server.</p></div><ol><li>nginx</li><li>gunicorn</li></ol><h2 id="_1-nginx" tabindex="-1"><a class="header-anchor" href="#_1-nginx"><span>1. nginx</span></a></h2><p>configure file for nginx</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">/etc/nginx/sites-available/site.conf</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ln</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/nginx/sites-available/site.conf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/nginx/sites-enable/site.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>site.conf</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # use &#39;listen 80 deferred;&#39; for Linux</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # use &#39;listen 80 accept_filter=httpready;&#39; for FreeBSD</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    listen</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    client_max_body_size</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 4G</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # set the correct host(s) for your site</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    server_name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ip_host</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    keepalive_timeout</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # path for static files</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    root</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /path/to/applicationroot</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    location</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # checks for static file, if not found proxy to app</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        try_files</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $uri</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> @proxy_to_app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    location</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> @proxy_to_app</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_set_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> X-Forwarded-For</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $proxy_add_x_forwarded_for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_set_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> X-Forwarded-Proto</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $scheme</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_set_header</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> Host</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $http_host</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # we don&#39;t want nginx trying to do something clever with</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # redirects, we set the Host: header above already.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_redirect</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> off</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">        # proxy_pass http://127.0.0.1:8000;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        proxy_pass</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://unix:/path/to/applicationroot/socket</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    error_page</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 500</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 502</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 503</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 504</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /500.html</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    location</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /500.html</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">        root</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /path/to/app/current/public</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-1-gunicorn-one-app-type-i" tabindex="-1"><a class="header-anchor" href="#_2-1-gunicorn-one-app-type-i"><span>2.1 gunicorn one app type I,</span></a></h2><blockquote><p>two filem service &amp; socket</p></blockquote><p>/etc/systemd/system/gunicorn.service:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[Unit]</span></span>
<span class="line"><span>Description=gunicorn daemon</span></span>
<span class="line"><span>Requires=gunicorn.socket</span></span>
<span class="line"><span>After=network.target</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[Service]</span></span>
<span class="line"><span>PIDFile=/run/gunicorn/pid</span></span>
<span class="line"><span>User=someuser</span></span>
<span class="line"><span>Group=someuser</span></span>
<span class="line"><span>RuntimeDirectory=gunicorn</span></span>
<span class="line"><span>WorkingDirectory=/path/to/applicationroot</span></span>
<span class="line"><span>ExecStart=/usr/bin/gunicorn --pid /run/gunicorn/pid   \\</span></span>
<span class="line"><span>          --bind unix:/run/gunicorn/socket applicationname.wsgi</span></span>
<span class="line"><span>ExecReload=/bin/kill -s HUP $MAINPID</span></span>
<span class="line"><span>ExecStop=/bin/kill -s TERM $MAINPID</span></span>
<span class="line"><span>PrivateTmp=true</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[Install]</span></span>
<span class="line"><span>WantedBy=multi-user.target</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>/etc/systemd/system/gunicorn.socket:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[Unit]</span></span>
<span class="line"><span>Description=gunicorn socket</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[Socket]</span></span>
<span class="line"><span>ListenStream=/run/gunicorn/socket</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[Install]</span></span>
<span class="line"><span>WantedBy=sockets.target</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-2-gunicorn-one-app-type-ii" tabindex="-1"><a class="header-anchor" href="#_2-2-gunicorn-one-app-type-ii"><span>2.2 gunicorn one app type II</span></a></h2><p>/etc/systemd/system/gunicorn.service:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[Unit]</span></span>
<span class="line"><span>Description=gunicorn daemon</span></span>
<span class="line"><span>After=network.target</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[Service]</span></span>
<span class="line"><span>ListenStream=/path/to/applicationroot/socket</span></span>
<span class="line"><span>PIDFile=/path/to/applicationroot/pid</span></span>
<span class="line"><span>RuntimeDirectory=gunicorn</span></span>
<span class="line"><span>WorkingDirectory=/path/to/applicationroot</span></span>
<span class="line"><span>ExecStart=/usr/local/bin/gunicorn                     \\</span></span>
<span class="line"><span>        --pid /path/to/applicationroot/pid            \\</span></span>
<span class="line"><span>        --bind unix:/path/to/applicationroot/socket   \\</span></span>
<span class="line"><span>        applicationname.wsgi</span></span>
<span class="line"><span>ExecReload=/bin/kill -s HUP $MAINPID</span></span>
<span class="line"><span>ExecStop=/bin/kill -s TERM $MAINPID</span></span>
<span class="line"><span>PrivateTmp=true</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[Install]</span></span>
<span class="line"><span>WantedBy=multi-user.target</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-3-gunicorn-one-app-type-iii" tabindex="-1"><a class="header-anchor" href="#_2-3-gunicorn-one-app-type-iii"><span>2.3 gunicorn one app type III</span></a></h2><p>/etc/systemd/system/gunicorn.service:</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[Unit]</span></span>
<span class="line"><span>Description=gunicorn daemon</span></span>
<span class="line"><span>After=network.target</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[Service]</span></span>
<span class="line"><span>ListenStream=/path/to/applicationroot/socket</span></span>
<span class="line"><span>PIDFile=/run/gunicorn/pid</span></span>
<span class="line"><span>RuntimeDirectory=gunicorn</span></span>
<span class="line"><span>WorkingDirectory=/path/to/applicationroot</span></span>
<span class="line"><span>ExecStart=/usr/local/bin/gunicorn --config gunicorn.ini  applicationname.wsgi</span></span>
<span class="line"><span>ExecReload=/bin/kill -s HUP $MAINPID</span></span>
<span class="line"><span>ExecStop=/bin/kill -s TERM $MAINPID</span></span>
<span class="line"><span>PrivateTmp=true</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[Install]</span></span>
<span class="line"><span>WantedBy=multi-user.target</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>/path/to/applicationroot/gunicorn.ini</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>import multiprocessing</span></span>
<span class="line"><span>pid = &quot;/path/to/applicationroot/pic&quot;</span></span>
<span class="line"><span>bind = &quot;unix:/path/to/applicationroot/socket&quot;</span></span>
<span class="line"><span>workers = multiprocessing.cpu_count() * 2 + 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-4-gunicorn-mutiweb-app-type-i-not-work" tabindex="-1"><a class="header-anchor" href="#_2-4-gunicorn-mutiweb-app-type-i-not-work"><span>2.4 gunicorn Mutiweb App type I (not work)</span></a></h2><blockquote><p>(nginx has seperate port or socket)</p></blockquote><p>App-A gunicorn.one &amp;&amp; gunicorn.two</p><p>/lib/systemd/system/gunicorn.one</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[Unit]</span></span>
<span class="line"><span>Description=gunicorn daemon</span></span>
<span class="line"><span>After=network.target</span></span>
<span class="line"><span>PartOf=gunicorn.target</span></span>
<span class="line"><span>ReloadPropagetedFrom=gunicorn.target</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[Service]</span></span>
<span class="line"><span>ListenStream=/path/to/applicationroot/socket</span></span>
<span class="line"><span>PIDFile=/path/to/applicationroot/pid</span></span>
<span class="line"><span>RuntimeDirectory=gunicorn</span></span>
<span class="line"><span>WorkingDirectory=/path/to/applicationroot</span></span>
<span class="line"><span>ExecStart=/usr/local/bin/gunicorn --config gunicorn.ini  applicationname.wsgi</span></span>
<span class="line"><span>ExecReload=/bin/kill -s HUP $MAINPID</span></span>
<span class="line"><span>ExecStop=/bin/kill -s TERM $MAINPID</span></span>
<span class="line"><span>PrivateTmp=true</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[Install]</span></span>
<span class="line"><span>WantedBy=gunicorn.target</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>/lib/systemd/system/gunicorn.target</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[Unit]</span></span>
<span class="line"><span>Description=gunicorn</span></span>
<span class="line"><span>Documentation=https://example.com/path/to/your/docs</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[Install]</span></span>
<span class="line"><span>WantedBy=multi-user.target</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>/path/to/applicationroot/gunicorn.ini</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>import multiprocessing</span></span>
<span class="line"><span>pid = &quot;/path/to/applicationroot/pic&quot;</span></span>
<span class="line"><span>bind = &quot;unix:/path/to/applicationroot/socket&quot;</span></span>
<span class="line"><span>workers = multiprocessing.cpu_count() * 2 + 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-command-systemd" tabindex="-1"><a class="header-anchor" href="#_3-command-systemd"><span>3. command systemd</span></a></h2><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gunicorn</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> stop</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gunicorn</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gunicorn</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> disable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gunicorn</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,33)]))}const c=i(l,[["render",p]]),h=JSON.parse('{"path":"/lambda/gunicorn.html","title":"gunicorn","lang":"en-US","frontmatter":{"icon":"fas fa-horse","description":"gunicorn Tips Python WSGI HTTP Server for UNIX daemon for python server. nginx gunicorn 1. nginx configure file for nginx site.conf 2.1 gunicorn one app type I, two filem servic...","head":[["meta",{"property":"og:url","content":"http://xinxi.jokerpy.top/lambda/gunicorn.html"}],["meta",{"property":"og:site_name","content":"HoneyPot"}],["meta",{"property":"og:title","content":"gunicorn"}],["meta",{"property":"og:description","content":"gunicorn Tips Python WSGI HTTP Server for UNIX daemon for python server. nginx gunicorn 1. nginx configure file for nginx site.conf 2.1 gunicorn one app type I, two filem servic..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-11-13T11:21:21.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-13T11:21:21.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"gunicorn\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-11-13T11:21:21.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"gaoming714\\",\\"url\\":\\"https://github.com/gaoming714\\"}]}"]]},"headers":[{"level":2,"title":"1. nginx","slug":"_1-nginx","link":"#_1-nginx","children":[]},{"level":2,"title":"2.1 gunicorn one app type I,","slug":"_2-1-gunicorn-one-app-type-i","link":"#_2-1-gunicorn-one-app-type-i","children":[]},{"level":2,"title":"2.2 gunicorn one app type II","slug":"_2-2-gunicorn-one-app-type-ii","link":"#_2-2-gunicorn-one-app-type-ii","children":[]},{"level":2,"title":"2.3 gunicorn one app type III","slug":"_2-3-gunicorn-one-app-type-iii","link":"#_2-3-gunicorn-one-app-type-iii","children":[]},{"level":2,"title":"2.4 gunicorn Mutiweb App type I  (not work)","slug":"_2-4-gunicorn-mutiweb-app-type-i-not-work","link":"#_2-4-gunicorn-mutiweb-app-type-i-not-work","children":[]},{"level":2,"title":"3. command systemd","slug":"_3-command-systemd","link":"#_3-command-systemd","children":[]}],"git":{"createdTime":1544812551000,"updatedTime":1731496881000,"contributors":[{"name":"gaoming714","email":"gaoming714@outlook.com","commits":3}]},"readingTime":{"minutes":1.35,"words":405},"filePathRelative":"lambda/gunicorn.md","localizedDate":"December 14, 2018","autoDesc":true,"excerpt":"\\n<div class=\\"hint-container tip\\">\\n<p class=\\"hint-container-title\\">Tips</p>\\n<p>Python WSGI HTTP Server for UNIX<br>\\ndaemon for python server.</p>\\n</div>\\n<ol>\\n<li>nginx</li>\\n<li>gunicorn</li>\\n</ol>\\n<h2>1. nginx</h2>\\n<p>configure file for nginx</p>\\n<div class=\\"language-shell line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"shell\\" data-title=\\"shell\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">/etc/nginx/sites-available/site.conf</span></span>\\n<span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">ln</span><span style=\\"--shiki-light:#986801;--shiki-dark:#D19A66\\"> -s</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> /etc/nginx/sites-available/site.conf</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> /etc/nginx/sites-enable/site.conf</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>"}');export{c as comp,h as data};
